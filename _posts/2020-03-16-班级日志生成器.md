---
layout:     post
title:      班级日志生成器
subtitle:   一个小程序
date:       2020-03-16
author:     Kermit
header-img: img/post-bg-javacode.jpg
catalog:    true
tags:
    - 编程开发
    - C++
---
为了快速地完成班级日志记录，特编写以下程序。

版本 1（作者：周可名&张延宇）  
```cpp
# include <bits/stdc++.h>

using namespace std;

int main ()
{
	cout<<"班级日志生成器 V1.0"<<endl;
	cout<<"使用前，请确保文件路径设置正确！"<<endl;
	cout<<"作者：张延宇 周可名"<<endl<<endl<<endl;
	string line,le[]={"语文","数学","英语","物理"},th[]={"上课迟到","提问未答","作业未交"};
	int h,k=0,m=0;
	cout<<"以“学号+空格+姓名+空格+错误序号+空格”为一组，输入若干组。上课迟到=0，提问未答=1，作业未交=2"<<endl; 
	getline(cin,line);	// Store numbers, names and types
	line=line+'z';	// Add a mark of the end of the line
	cout<<"语文=0,数学=1,英语=2,物理=3"<<endl;
	cin>>h;	// Store lessons
	string numbers[130];
	for(int i=0;i<line.size();i++)	// Search through the string and increace "i"'s value by 1 each time
	{
		if(line[i]==' '||i+1==line.size())	// If a blank is found or the end is reached 
		{
			numbers[m]=line.substr(k,i-k);	// Separate the string into each sub string separated by a blank
			m++;
			k=i+1;	// Set the beginning point of the next separation
		}
	}
	fstream file ("D:/Users/chou_/Desktop/网课1.txt",ios::app);
	file<<endl<<le[h]<<"课："<<endl;	// Output the lesson name
	int j=0;
	for(;j<m/3;j++)
	{
		if(numbers[j*3+2]=="0")
		{
			if(numbers[(j-1)*3+2]!="0")
			{
				file<<endl<<"迟到情况：上课迟到：【";
			}
			file<<numbers[j*3]<<numbers[j*3+1]<<" ";
		}
	}
	j=0;
	for(;j<m/3;j++)
	{
		if(numbers[j*3+2]=="1")
		{
			if(numbers[(j-1)*3+2]!="1")
			{
				file<<"】"<<endl<<"课堂情况：提问未答：【";
			}
			file<<numbers[j*3]<<numbers[j*3+1]<<" ";
		}
	}
	j=0;
	for(;j<m/3;j++)
	{
		if(numbers[j*3+2]=="2")
		{
			if(numbers[(j-1)*3+2]!="2")
			{
				file<<"】"<<endl<<"作业情况：作业未交：【";
			}
			file<<numbers[j*3]<<numbers[j*3+1]<<" ";
		}
	}
	file<<"】"<<endl; 
	file.close();
	cout<<"按任意键退出"<<endl;
	cin.ignore (1,'\n');
	cin.get ();
	return 0;
}
```

版本 2（作者：周可名）  
```cpp
# include <bits/stdc++.h>

using namespace std;

int main ()
{
	int lesson;
	cout << "Input lesson name:" << endl << "1=语文 2=数学 3=物理 4=英语" << endl; 
	cin >> lesson;
	int type;
	cout << "Input type:" << endl << "1=迟到 2=提问不答 3=作业未交" << endl;
	cin >> type;
	string name[42];	// Store 42 names 
	int number[42] = {0};	// Store 42 numbers
	int a=1;
	for (;;)	// Infinite loop to input enough names 
	{
		cout << "Input number, input 0 to stop:" << endl;
		cin >> number[a];
		cout << number[a] <<endl;
		if (number[a]==0)
		{
			break;	// Stop inputing
		}
		cout << "Input name:" << endl;
		cin >> name[number[a]];
		// cout << a << endl;
	}
	fstream file ("D:/Users/chou_/Desktop/testcpp.txt",ios::app);
	file << endl << endl;
	bool error = false;	// Create "error" variable to show if the program has errors
	if (error == false)	// Check if it can be continued
	{
		switch (lesson)
    	{ 
			case 1 : file << "语文" << endl; break;
			case 2 : file << "数学" << endl; break;
			case 3 : file << "物理" << endl; break;
			case 4 : file << "英语" << endl; break;	// Outputs lesson name 
			default : cout << "LESSON ERROR!!!" << endl; error = true; break;	// ERROR prompt; Set status to ERROR
  		}
		switch (type)
		{
			case 1 : file << "迟到："; break;
			case 2 : file << "提问不答："; break;
			case 3 : file << "作业未交："; break;	//Outputs type
			default : cout << "TYPE ERROR!!!" << endl; error = true; break;	// ERROR prompt; Set status to ERROR
		}
		if (error == false)	// Check if it can be continued
		{
			cout << a << endl; 
			int b=1;  // = 1// ;cout<<b<<endl;
			cout << number[b] << endl;
			cout << name[number[b]] << endl;
			cout << b << endl;
			for(;b<a;b++)
			{
				cout << b << endl;
				cout << number[b] << endl; 
				if (number[b]!=0)
					file << number[b] << name[number[b]] << " ";	// Output number + name 
			}
			file << endl;
		}
	}
	file.close();
	return 0;
}
```